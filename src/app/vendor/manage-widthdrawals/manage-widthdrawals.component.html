<div class="card">
  	<div class="card-body" style="padding:0px;">
    	<div class="row">
      		<div class="col">
		        <tabset>
		          <tab heading="Manage Widthdrawals">
			            <div class="col-md-12">
			            	<div style="margin-bottom: 4px">
			            		<button style="margin-left:5px;" (click)="exportTable('xls', 'withdrawal_table')" class="btn btn-outline btn-success">Export table</button>
                        		<button class="btn btn-outline btn-success" (click)="printReciept('withdrawal_table')">Print</button>
			            	</div>
			            	<table id="withdrawal_table" class="table table-responsive-sm table-hover table-outline mb-0" width="100%">
				                <thead>
				                    <tr>
				                        <th>#</th>
				                        <th>Name</th>
				                        <th>Amount</th>
				                        <!-- <th>Payment Method</th> -->
				                        <th>Status</th>
				                        <th>Date</th>
				                        <th>Actions</th>
				                    </tr>
				                </thead>
				                <tbody>
				                    <tr class="" *ngFor="let item of widthdrawalsList">
				                        <td><input type="checkbox" name=""></td>
				                        <td>
		                                  {{item.member.first_name}} 
		                                  {{item.member.last_name}} 
		                                  {{item.member?.middle_name}} 
		                                </td>
				                        <td>
				                            {{item?.amount}} 
				                        </td>
				                        <!-- <td>
				                            {{item?.payment_method}} 
				                        </td> -->
				                        <td>
				                        	<span *ngIf="item.status == 0" class="badge badge-warning">Pending </span>
				                            <span *ngIf="item.status == 2" class="badge badge-danger">Cancelled </span>
                                    		<span *ngIf="item.status == 1" class="badge badge-success">Approved </span>
				                        </td>
				                        <td>
				                            {{item?.created_at}} 
				                        </td>
				                        <td class="center">
				                        	<mat-menu #appMenu="matMenu">
											  <button [swal]="approve_request" mat-menu-item *ngIf="item.status==0">Approve Request</button>
											  <button [swal]="cancel_request" mat-menu-item *ngIf="item.status == 0 ">Cancel Request</button>
											  <swal
												  #approve_request
												  title="Are You Sure You want to Approve this Withdrawal?"
												  text="This cannot be undone"
												  type="warning"
												  [showCancelButton]="true"
												  [focusCancel]="true"
												  (confirm)="approveWidthdrawalRequest(item.id)">
												</swal>
												<swal
												  #cancel_request
												  title="Are You Sure You want to Cancel this Withdrawal?"
												  text="This cannot be undone"
												  type="warning"
												  [showCancelButton]="true"
												  [focusCancel]="true"
												  (confirm)="cancelWidthdrawalRequest(item.id)">
												</swal>
											</mat-menu>

											<button *ngIf="item.status != 2 && user.role_id != 4" mat-icon-button [matMenuTriggerFor]="appMenu">
											  <mat-icon>more_vert</mat-icon>
											</button>
				                         <!-- <div class="btn-group">
					                          <button class="btn btn-mini dropdown-toggle" data-toggle="dropdown">
					                            <span><i class="fa fa-ellipsis-v"></i></span>
					                          </button>
					                          <ul class="dropdown-menu" style="min-width:1px;     left: -66px;">
			                                      <li>
			                                        <a >
			                                          <i class="fa fa-check"> Approve Request</i>
			                                        </a>
			                                        <a *ngIf="item.status === 'Approved'">
			                                          <i class="fa fa-check"> Approved Already</i>
			                                        </a>
			                                      </li>
			                                      <li>
			                                        <a >
			                                          <i class="fa fa-times"> Cancel Request</i>
			                                        </a>
			                                      </li>
			                                    </ul>
					                        </div> -->
				                        </td>
				                    </tr>
				                </tbody>
				            </table>
				            <div class="col-md-12 load-more">
	                           <a  (click)="loadMore()" style="cursor: pointer;"><i *ngIf="loader" class="fa fa-spinner"></i>Load more... </a>
	                        </div>
			            </div>
		        	</tab>
		    	</tabset>
			</div>
		</div>
	</div>
</div>
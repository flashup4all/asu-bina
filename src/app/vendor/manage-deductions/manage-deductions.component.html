<div class="card">
  	<div class="card-body">
    	<div class="row">
      		<div class="col">
		        <tabset>
		          <tab heading="Manage Deductions">
			            <div class="col-md-12">
			            	<div class="row">
			            		<div class="col-md-9">
						           <form class="" [formGroup] = "runDeductionsForm" (ngSubmit) = "runDeductions(runDeductionsForm.value)">
						                <div class="row">
						                	<div class="col-md-4">
						                		<select class="form-control" placeholder="Filter by name..." formControlName = "repayment_method">
							                        <option value="salary">Salary</option>
							                    </select>
							                    <small [hidden]="(runDeductionsForm.controls.repayment_method.valid ) || (runDeductionsForm.controls.repayment_method.pristine && !submitted)" class="text-danger">Repayment Method is Required</small>
						                	</div>
								           	<div class="col-md-4">
								           		<select class="form-control" placeholder="Period" formControlName = "period">
								           			<option *ngFor="let item of monthList">{{item.name}}/{{ current_year }}</option>
							                    </select>
							                    <small [hidden]="(runDeductionsForm.controls.period.valid ) || (runDeductionsForm.controls.period.pristine && !submitted)" class="text-danger">Period Method is Required</small> 
								           	</div>
								           	<div class="col-md-4">
								           		 <button type="submit" class="btn btn-success" [disabled]="runDeductionsForm.invalid || submitPending ">
							                        <span *ngIf="!submitPending">Run Deductions</span>
							                        <span *ngIf="submitPending && runDeductionsForm.valid">Please Wait...</span>
							                        <span *ngIf="submitPending && runDeductionsForm.valid" class="fa fa-spinner" aria-hidden="true"></span>
							                    </button>
								           	</div>
						                </div>
						                <br>
						            </form>
						        </div>
						        <div class="col-md-3">
						        	<a class="btn btn-success" [routerLink]="['/app/deductions/run-deductions']">Manage Deductions</a>
						        </div>
			            	</div>
			            	<table class="table table-responsive-sm table-hover table-outline mb-0" width="100%">
				                <thead>
					                <tr>
					                    <th>#</th>
					                    <th>Name</th>
					                    <th>Loan Type</th>
					                    <th>Method</th>
					                    <th>(&#8358;) Deducted</th>
					                    <th>Date</th>
					                    <th>Period</th>
					                    <th>Actions</th>
					                </tr>
					            </thead>
					            <tbody>
					                <tr class="" *ngFor="let item of deductionsList">
					                    <td><input type="checkbox" name=""></td>
					                    <td>
					                        {{item.member.first_name}} 
					                        {{item.member.last_name}} 
					                        {{item.member?.middle_name}} 
					                        </td>
					                    <td>
					                        {{item.type.loan_type}} 
					                    </td>
					                    <td>
					                        {{item.repayment_method}} 
					                    </td>
					                    <td>
					                        {{item.amount_deducted | number:'.2'}} 
					                    </td>
					                      <td>
					                        {{item.created_at}} 
					                    </td>
					                      <td>
					                        {{item.period}} 
					                    </td>
					                    <td class="center">
					                        <div class="btn-group">
					                          <!-- <button class="btn btn-mini">Action</button> -->
					                          <button class="btn btn-mini dropdown-toggle" data-toggle="dropdown">
					                            <span><i class="fa fa-ellipsis-v"></i></span>
					                          </button>
					                          <ul class="dropdown-menu" style="min-width:1px;">
					                            
					                            <!-- <li><a tabindex="-1" (click)="deleteMember(item.id)">Another action</a></li>
					                             <li class="divider"></li>
					                            <li>
					                                <button class="btn btn-small" (click)="deleteMember(item.id)" title="delete member">
					                                    <i class="fa fa-trash-o"></i>
					                                </button>
					                            </li> -->
					                             <li class="divider"></li>
					                          </ul>
					                        </div>
					                        <!-- <button class="btn btn-default" (click)="editLoanType(item)" title="Edit Loan Signatory">
					                            <i class="fa fa-edit"></i>
					                        </button>
					                         <button class="btn btn-default" (click)="deleteLoanSignatory(item.id)" title="Delete Loan Signatory"><i class="fa fa-trash-o"></i></button> -->
					                    </td>
					                </tr>
					            </tbody>
					        </table>
				            <div class="col-md-12 load-more">
	                           <a  (click)="loadMore()" style="cursor: pointer;"><i *ngIf="loader" class="fa fa-spinner"></i>Load more... </a>
	                        </div>
			            </div>
		        	</tab>
		    	</tabset>
			</div>
		</div>
	</div>
</div>